(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55a5f14d"],{"1e7d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{"min-height":"400px"}},[a("a-space",{staticClass:"operator"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){e.RegisterVisible=!0,e.isEdit=!1}}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" "+e._s(e.$t("dataModel.SimS7Model.AddData")))],1),a("a-button",{attrs:{type:"default"},on:{click:function(t){return e.onBlackCLK()}}},[a("a-icon",{attrs:{type:"backward"}}),e._v(" "+e._s(e.$t("dataModel.opcuaModel.Back")))],1)],1),a("a-spin",{staticStyle:{padding:"1px"},attrs:{spinning:e.messageShowLoad,tip:"Loading..."}},[a("a-table",{staticClass:"ant-table-tbody",attrs:{pagination:e.pagination,rowKey:"name",columns:e.registerGroupColumns,"data-source":e.registerGroupDataSource},scopedSlots:e._u([{key:"DataFrom",fn:function(t){return[0==t?a("span",[e._v(" "+e._s(e.$t("dataModel.SimS7Model.DB")))]):e._e(),1==t?a("span",[e._v(" "+e._s(e.$t("dataModel.SimS7Model.InputArea")))]):e._e(),2==t?a("span",[e._v(" "+e._s(e.$t("dataModel.SimS7Model.OutputArea")))]):e._e(),3==t?a("span",[e._v(" "+e._s(e.$t("dataModel.SimS7Model.MemoryArea")))]):e._e()]}},{key:"NodeIDDataType",fn:function(t){return[0==t?a("span",[e._v(" Bool")]):1==t?a("span",[e._v(" Byte")]):2==t?a("span",[e._v(" SINT ")]):3==t?a("span",[e._v(" INT")]):4==t?a("span",[e._v(" DINT")]):5==t?a("span",[e._v(" USINT")]):6==t?a("span",[e._v(" UINT")]):7==t?a("span",[e._v(" UDINT")]):8==t?a("span",[e._v(" LINT")]):9==t?a("span",[e._v(" REAL")]):10==t?a("span",[e._v(" LREAL")]):11==t?a("span",[e._v("TIME")]):12==t?a("span",[e._v("LTIME")]):13==t?a("span",[e._v("S5TIME")]):14==t?a("span",[e._v("DATE")]):15==t?a("span",[e._v("DATE_AND_TIME")]):16==t?a("span",[e._v("WSTRING")]):17==t?a("span",[e._v("String")]):18==t?a("span",[e._v("ULINT")]):19==t?a("span",[e._v("WORD")]):20==t?a("span",[e._v("DWORD")]):21==t?a("span",[e._v("LWORD")]):22==t?a("span",[e._v("CHAR")]):23==t?a("span",[e._v("WCHAR")]):e._e()]}},{key:"auth",fn:function(t){return["ReadOnly"==t?a("span",[e._v(" ReadOnly")]):"ReadWrite"==t?a("span",[e._v(" ReadWrite")]):"WriteOnly"==t?a("span",[e._v(" WriteOnly")]):e._e()]}},{key:"action",fn:function(t,r){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("a",{on:{click:function(){return e.edit(r)}}},[a("a-icon",{attrs:{type:"edit"}}),e._v(" "+e._s(e.$t("dataModel.opcuaModel.NodeIDEdit")))],1)]),a("a-popconfirm",{attrs:{title:e.$t("dataModel.deleteConfirm")},on:{confirm:function(t){return e.deleteRecord(r.uuid,r.muid)}}},[a("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),a("a-icon",{attrs:{type:"delete",theme:"twoTone","two-tone-color":"#eb2f96"}}),a("a",{staticStyle:{color:"#eb2f96"}},[e._v(e._s(e.$t("dataModel.delete")))])],1)],1)]}}])},[e._l(e.registerGroupColumns,(function(t,r){return a("template",{slot:t.slotName},[a("span",{key:r},[e._v(e._s(e.$t(t.slotName)))])])}))],2)],1)],1),a("a-drawer",{attrs:{title:e.isEdit?e.$t("dataModel.opcuaModel.EditNodeID"):e.$t("dataModel.opcuaModel.AddNodeID"),width:720,visible:e.RegisterVisible,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose}},[a("a-spin",{staticStyle:{padding:"1px"},attrs:{spinning:e.ShowRegisterLoading,tip:"Loading..."}},[a("a-form",{attrs:{form:e.RegisterForm,layout:"vertical"},on:{submit:e.AddNodeId}},[a("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.opcuaModel.NodeIDName")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["NodeIDName",{rules:[{required:!0,message:e.$t("dataModel.opcuaModel.NodeIDName"),whitespace:!0}]}],expression:"['NodeIDName', {rules: [{ required: true, message: $t('dataModel.opcuaModel.NodeIDName'), whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.SimS7Model.DataFrom")}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["DataFromType",{initialValue:0,rules:[{required:!0,type:"number",message:e.$t("dataModel.SimS7Model.DataFrom"),whitespace:!0}]}],expression:"['DataFromType', { initialValue:0,rules: [{ required: true,type: 'number', message: $t('dataModel.SimS7Model.DataFrom'), whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete"},on:{change:e.DataFromCharge}},e._l([{name:"dataModel.SimS7Model.DB",value:0},{name:"dataModel.SimS7Model.InputArea",value:1},{name:"dataModel.SimS7Model.OutputArea",value:2},{name:"dataModel.SimS7Model.MemoryArea",value:3}],(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(e.$t(t.name))+" ")])})),1)],1)],1),0==e.DataFrom?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.SimS7Model.DBIndex")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["DBIndex",{rules:[{required:!0,message:e.$t("dataModel.SimS7Model.DBIndex"),whitespace:!0}]}],expression:"['DBIndex', {rules: [{ required: true, message: $t('dataModel.SimS7Model.DBIndex'), whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete"}})],1)],1):e._e(),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:0==e.DataFrom?e.$t("dataModel.SimS7Model.DBOffset"):e.$t("dataModel.SimS7Model.DBAddress")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["DBOffset",{rules:[{required:!0,message:0==e.DataFrom?e.$t("dataModel.SimS7Model.DBOffset"):e.$t("dataModel.SimS7Model.DBAddress"),whitespace:!0}]}],expression:"['DBOffset', {rules: [{ required: true, message: DataFrom==0?$t('dataModel.SimS7Model.DBOffset'):$t('dataModel.SimS7Model.DBAddress'), whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.opcuaModel.NodeIDDataType")}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["NodeIDDataType",{rules:[{required:!0,message:e.$t("dataModel.opcuaModel.NodeIDDataType"),whitespace:!0}]}],expression:"['NodeIDDataType', {rules: [{ required: true, message: $t('dataModel.opcuaModel.NodeIDDataType'), whitespace: true}]}]"}],staticClass:"DataType",attrs:{autocomplete:"autocomplete"},on:{change:e.DataTypeCharge}},[a("a-select-option",{attrs:{value:"0"}},[e._v("Bool")]),a("a-select-option",{attrs:{value:"1"}},[e._v("Byte")]),a("a-select-option",{attrs:{value:"2"}},[e._v("SINT")]),a("a-select-option",{attrs:{value:"3"}},[e._v("INT")]),a("a-select-option",{attrs:{value:"4"}},[e._v("DINT")]),a("a-select-option",{attrs:{value:"5"}},[e._v("USINT")]),a("a-select-option",{attrs:{value:"6"}},[e._v("UINT")]),a("a-select-option",{attrs:{value:"7"}},[e._v("UDINT")]),a("a-select-option",{attrs:{value:"8"}},[e._v("LINT")]),a("a-select-option",{attrs:{value:"18"}},[e._v("ULINT")]),a("a-select-option",{attrs:{value:"19"}},[e._v("WORD")]),a("a-select-option",{attrs:{value:"20"}},[e._v("DWORD")]),a("a-select-option",{attrs:{value:"21"}},[e._v("LWORD")]),a("a-select-option",{attrs:{value:"9"}},[e._v("REAL")]),a("a-select-option",{attrs:{value:"10"}},[e._v("LREAL")]),a("a-select-option",{attrs:{value:"16"}},[e._v("WSTRING")]),a("a-select-option",{attrs:{value:"17"}},[e._v("STRING")]),a("a-select-option",{attrs:{value:"11"}},[e._v("TIME")]),a("a-select-option",{attrs:{value:"12"}},[e._v("LTIME")]),a("a-select-option",{attrs:{value:"13"}},[e._v("S5TIME")]),a("a-select-option",{attrs:{value:"14"}},[e._v("DATE")]),a("a-select-option",{attrs:{value:"15"}},[e._v("DATE_AND_TIME")]),a("a-select-option",{attrs:{value:"22"}},[e._v("CHAR")]),a("a-select-option",{attrs:{value:"23"}},[e._v("WCHAR")])],1)],1)],1),"16"==e.S7DataType||"17"==e.S7DataType?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.SimS7Model.StringLength")}},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.$t("dataModel.SimS7Model.StringLength")))])]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["StringLength",{initialValue:"254",rules:[{required:!0,message:e.$t("dataModel.SimS7Model.StringLength")}]}],expression:"[\n                        'StringLength',\n                        {\n                          initialValue:'254',\n                          rules: [{ required: true, message: $t('dataModel.SimS7Model.StringLength') }],\n                        },\n                      ]"}],attrs:{autocomplete:"autocomplete"}})],2)],1)],1):e._e(),"20"==e.S7DataType||"21"==e.S7DataType||"1"==e.S7DataType||"19"==e.S7DataType?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.SimS7Model.IsHaveUnsigned")}},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.$t("dataModel.SimS7Model.IsHaveUnsigned")))])]),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["IsHaveUnsigned",{initialValue:"0",rules:[{required:!0,message:e.$t("dataModel.SimS7Model.IsHaveUnsigned")}]}],expression:"[\n                        'IsHaveUnsigned',\n                        {\n                          initialValue:'0',\n                          rules: [{ required: true,message: $t('dataModel.SimS7Model.IsHaveUnsigned') }],\n                        },\n                      ]"}],attrs:{autocomplete:"autocomplete"}},[a("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("dataModel.SimS7Model.IsSigned")))]),a("a-select-option",{attrs:{value:"1"}},[e._v(e._s(e.$t("dataModel.SimS7Model.IsUnsigned")))])],1)],2)],1)],1):e._e(),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.opcuaModel.NodeIDAccessLevel")}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["NodeIDAccessLevel",{rules:[{required:!0,message:e.$t("dataModel.opcuaModel.NodeIDAccessLevel"),whitespace:!0}]}],expression:"['NodeIDAccessLevel', {rules: [{ required: true, message: $t('dataModel.opcuaModel.NodeIDAccessLevel'), whitespace: true}]}]"}],staticClass:"DataType",attrs:{autocomplete:"autocomplete"}},[a("a-select-option",{attrs:{value:"ReadOnly"}},[e._v("ReadOnly")]),a("a-select-option",{attrs:{value:"ReadWrite"}},[e._v("ReadWrite")]),a("a-select-option",{attrs:{value:"WriteOnly"}},[e._v("WriteOnly")])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.modbusModel.ConversionExpression")}},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.$t("dataModel.modbusModel.ConversionExpressionTips")))])]),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ConversionExpression",{rules:[{required:!1,message:e.$t("dataModel.modbusModel.ConversionExpression")}]}],expression:"[\n                        'ConversionExpression',\n                        {\n                          rules: [{ required: false, message: $t('dataModel.modbusModel.ConversionExpression') }],\n                        },\n                      ]"}],attrs:{autocomplete:"autocomplete"}})],2)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.editData.dataUnit")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataUnit",{rules:[{required:!1,message:e.$t("dataModel.editData.dataUnit")}]}],expression:"[\n                      'dataUnit',\n                      {\n                        rules: [{ required: false, message: $t('dataModel.editData.dataUnit') }],\n                      },\n                    ]"}],attrs:{autocomplete:"autocomplete"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.editData.dataAlarm")}},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.$t("dataModel.editData.dataAlarmTips")))])]),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataAlarm",{rules:[{required:!0,message:e.$t("dataModel.editData.dataAlarm")}]}],expression:"[\n                          'dataAlarm',\n                          {\n                            rules: [{ required: true, message: $t('dataModel.editData.dataAlarm') }],\n                          },\n                        ]"}],attrs:{autocomplete:"autocomplete"},on:{change:e.alarmCharge}},[a("a-select-option",{attrs:{value:"1"}},[e._v(e._s(e.$t("dataModel.editData.dataAlarmYes")))]),a("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("dataModel.editData.dataAlarmNo")))])],1)],2)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.editData.dataRecord")}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataRecord",{rules:[{required:!0,message:e.$t("dataModel.editData.dataRecord")}]}],expression:"[\n                      'dataRecord',\n                      {\n                        rules: [{ required: true, message: $t('dataModel.editData.dataRecord') }],\n                      },\n                    ]"}],attrs:{autocomplete:"autocomplete"},on:{change:e.recordCharge}},[a("a-select-option",{attrs:{value:"1",selectd:""}},[e._v(e._s(e.$t("dataModel.editData.dataAlarmYes")))]),a("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("dataModel.editData.dataAlarmNo")))])],1)],1)],1),e.alarmStatus?a("div",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.AlarmLevel")}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["AlarmLevel",{rules:[{required:!0,message:e.$t("dataModel.AlarmLevel")}]}],expression:"[\n                      'AlarmLevel',\n                      {\n                        rules: [{ required: true, message: $t('dataModel.AlarmLevel') }],\n                      },\n                    ]"}],attrs:{autocomplete:"autocomplete"}},[a("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("dataModel.alarm.Tips")))]),a("a-select-option",{attrs:{value:"1"}},[e._v(e._s(e.$t("dataModel.alarm.Minor")))]),a("a-select-option",{attrs:{value:"2"}},[e._v(e._s(e.$t("dataModel.alarm.Importance")))]),a("a-select-option",{attrs:{value:"3"}},[e._v(e._s(e.$t("dataModel.alarm.Urgency")))]),a("a-select-option",{attrs:{value:"4"}},[e._v(e._s(e.$t("dataModel.alarm.Deadly")))])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.editData.AlarmMessage")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AlarmMessage",{rules:[{required:!0,message:e.$t("dataModel.editData.AlarmMessage")}]}],expression:"[\n                        'AlarmMessage',\n                        {\n                          rules: [{ required: true, message: $t('dataModel.editData.AlarmMessage') }],\n                        },\n                      ]"}],attrs:{autocomplete:"autocomplete"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.editData.AlarmClearMessage")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AlarmClearMessage",{rules:[{required:!1,message:e.$t("dataModel.editData.AlarmClearMessage")}]}],expression:"[\n                      'AlarmClearMessage',\n                      {\n                        rules: [{ required: false, message: $t('dataModel.editData.AlarmClearMessage') }],\n                      },\n                    ]"}],attrs:{autocomplete:"autocomplete"}})],1)],1)],1):a("div",[e.recordStatus?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.dataRecordType")}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataRecordType",{rules:[{required:!0,message:e.$t("dataModel.dataRecordType")}],initialValue:"0"}],expression:"[\n                  'dataRecordType',\n                  {\n                    rules: [{ required: true, message: $t('dataModel.dataRecordType') }],\n                    initialValue: '0'\n                  },\n                ]"}],attrs:{autocomplete:"autocomplete"},on:{change:e.chargeDataRecordType}},[a("a-select-option",{attrs:{value:"1"}},[e._v(e._s(e.$t("dataModel.dataRecordTimely")))]),a("a-select-option",{attrs:{value:"0"}},[e._v(e._s(e.$t("dataModel.dataRecordCharge")))])],1)],1)],1):e._e(),e.recordStatus&&0==e.DataRecordType?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.dataRecordChargeValue")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataRecordChargeValue",{rules:[{required:!0,message:e.$t("dataModel.dataRecordChargeValue")}]}],expression:"[\n                  'dataRecordChargeValue',\n                  {\n                    rules: [{ required: true, message: $t('dataModel.dataRecordChargeValue') }],\n                  },\n                ]"}],staticStyle:{width:"100%"},attrs:{min:1,autocomplete:"autocomplete"}})],1)],1):e._e(),e.recordStatus&&1==e.DataRecordType?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:e.$t("dataModel.editData.dataRecordTime")}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataRecordTime",{rules:[{required:!0,message:e.$t("dataModel.editData.dataRecordTime")}]}],expression:"[\n                  'dataRecordTime',\n                  {\n                    rules: [{ required: true, message: $t('dataModel.editData.dataRecordTime') }],\n                  },\n                ]"}],staticStyle:{width:"100%"},attrs:{min:1,autocomplete:"autocomplete"}})],1)],1):e._e()],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:e.$t("dataModel.opcuaModel.NodeIDDec")}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["NodeIDDec",{rules:[{required:!1,message:e.$t("dataModel.opcuaModel.NodeIDDec"),whitespace:!0}]}],expression:"['NodeIDDec', {rules: [{ required: false, message: $t('dataModel.opcuaModel.NodeIDDec'), whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete"}})],1)],1)],1)],1)],1),a("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[e.isEdit?a("a-button",{key:"submit",style:{marginRight:"8px"},attrs:{type:"primary"},on:{click:e.save}},[e._v(" "+e._s(e.$t("component.deviceDataModel.Edit"))+" ")]):a("a-button",{key:"submit",style:{marginRight:"8px"},attrs:{type:"primary"},on:{click:e.AddNodeId}},[e._v(" "+e._s(e.$t("component.deviceDataModel.submit"))+" ")]),a("a-button",{key:"back",on:{click:function(t){e.RegisterVisible=!1}}},[e._v(" "+e._s(e.$t("component.deviceDataModel.cancel"))+" ")])],1)],1)],1)},o=[],s=a("2909"),i=(a("b0c0"),a("d3b7"),a("25f0"),a("4de4"),a("ff68")),d=[],l={name:"SimS7DataList",i18n:a("89fe"),data:function(){return{isEdit:!1,pagination:{pageSize:15,showSizeChanger:!0},DataFrom:0,DataRecordType:0,registerGroupListTable:!0,error:"",NodeIDAccessLevel:[],ShowRegisterLoading:!1,alarmStatus:0,recordStatus:0,EditForm:this.$form.createForm(this),RegisterForm:this.$form.createForm(this),selectDataTableUuid:[],rowSelection:{onSelect:this.onDataTableSelect,onSelectAll:this.onDataTableSelectAll},S7DataType:0,RegisterVisible:!1,editVisible:!1,messageShowLoad:!1,RegisterMessageShowLoad:!1,registerGroupColumns:[{slotName:this.$t("dataModel.opcuaModel.NodeIDName"),scopedSlots:{customRender:"name",title:this.$t("dataModel.opcuaModel.NodeIDName")},width:"15%",dataIndex:"name"},{slotName:this.$t("dataModel.SimS7Model.DataFrom"),scopedSlots:{customRender:"DataFrom",title:this.$t("dataModel.SimS7Model.DataFrom")},width:"15%",align:"left",dataIndex:"DataFromType"},{slotName:this.$t("dataModel.opcuaModel.NodeIDDataType"),scopedSlots:{customRender:"NodeIDDataType",title:this.$t("dataModel.opcuaModel.NodeIDDataType")},width:"15%",align:"center",dataIndex:"type"},{slotName:this.$t("dataModel.opcuaModel.NodeIDAccessLevel"),scopedSlots:{customRender:"NodeIDAccessLevel",title:this.$t("dataModel.opcuaModel.NodeIDAccessLevel")},width:"15%",align:"center",dataIndex:"auth"},{title:this.$t("dataModel.modelTableOpt"),width:"15%",scopedSlots:{customRender:"action"}}],dataSource:d,registerGroupDataSource:[],selectedRows:[]}},created:function(){this.NodeIdList(),this.registerGroupListTable=!0},activated:function(){},mounted:function(){},computed:{},methods:{DataFromCharge:function(e){this.DataFrom=e},DataTypeCharge:function(e){this.S7DataType=e},chargeDataRecordType:function(e){this.DataRecordType=parseInt(e)},onClose:function(){this.editVisible=!1},edit:function(e){var t=this;this.isEdit=!0,this.RegisterVisible=!0,this.editingKey=e.uuid,this.alarmStatus=e.alarm,this.recordStatus=e.record,this.ShowRegisterLoading=!0,this.DataRecordType=e.RecordType,this.DataFrom=e.DataFromType,0==e.recordInterval&&(e.recordInterval=1),this.S7DataType=e.type,setTimeout((function(){t.RegisterForm.setFieldsValue({NodeIDName:e.name,DataFromType:e.DataFromType,NodeIDDataType:e.type,NodeIDAccessLevel:e.auth,dataUnit:e.unit,DBOffset:e.DBOffset,StringLength:e.StringMaxLength,IsHaveUnsigned:e.IsHaveUnsigned?e.IsHaveUnsigned.toString():"0",ConversionExpression:e.conversionExpression}),1==e.alarm?t.RegisterForm.setFieldsValue({dataAlarm:e.alarm.toString(),AlarmLevel:e.alarmLevel.toString(),dataRecord:e.record.toString(),AlarmMessage:e.AlarmMessage,AlarmClearMessage:e.AlarmClearMessage}):1==e.record?t.RegisterForm.setFieldsValue({dataAlarm:e.alarm.toString(),dataRecord:e.record.toString(),dataRecordType:e.RecordType.toString(),dataRecordChargeValue:e.RecordDataCharge.toString(),dataRecordTime:e.recordInterval.toString()}):t.RegisterForm.setFieldsValue({dataRecord:e.record.toString(),dataAlarm:e.alarm.toString()}),0==t.DataFrom&&t.RegisterForm.setFieldsValue({DBIndex:e.DBIndex.toString()}),t.ShowRegisterLoading=!1}),500),this.editVisible=!0},save:function(){var e=this;this.RegisterForm.validateFields((function(t){if(!t){var a={uuid:e.editingKey,muid:e.$route.params.uid,data:{name:e.RegisterForm.getFieldValue("NodeIDName"),DataFromType:e.RegisterForm.getFieldValue("DataFromType"),auth:e.RegisterForm.getFieldValue("NodeIDAccessLevel"),type:e.RegisterForm.getFieldValue("NodeIDDataType"),unit:e.RegisterForm.getFieldValue("dataUnit"),DBOffset:e.RegisterForm.getFieldValue("DBOffset"),StringMaxLength:parseInt(e.RegisterForm.getFieldValue("StringLength")),IsHaveUnsigned:parseInt(e.RegisterForm.getFieldValue("IsHaveUnsigned")),conversionExpression:e.RegisterForm.getFieldValue("ConversionExpression"),alarm:parseInt(e.RegisterForm.getFieldValue("dataAlarm")),record:parseInt(e.RegisterForm.getFieldValue("dataRecord")),Description:e.RegisterForm.getFieldValue("NodeIDDec")}};1==a.data.alarm&&(a.data.alarmLevel=parseInt(e.RegisterForm.getFieldValue("AlarmLevel")),a.data.AlarmMessage=e.RegisterForm.getFieldValue("AlarmMessage"),a.data.AlarmClearMessage=e.RegisterForm.getFieldValue("AlarmClearMessage")),1==a.data.record&&(a.data.recordInterval=parseInt(e.RegisterForm.getFieldValue("dataRecordTime")),a.data.RecordType=parseInt(e.RegisterForm.getFieldValue("dataRecordType")),a.data.recordInterval=parseInt(e.RegisterForm.getFieldValue("dataRecordTime")),a.data.RecordDataCharge=e.RegisterForm.getFieldValue("dataRecordChargeValue")?e.RegisterForm.getFieldValue("dataRecordChargeValue").toString():""),0==e.DataFrom&&(a.data.DBIndex=parseInt(e.RegisterForm.getFieldValue("DBIndex")));var r=e;Object(i["d"])(a).then((function(e){if(2002==e.data.code){var t=Object(s["a"])(r.registerGroupDataSource),a=t.filter((function(e){return r.editingKey===e.uuid}))[0];a&&(r.DataFrom=parseInt(r.RegisterForm.getFieldValue("DataFromType")),a.name=r.RegisterForm.getFieldValue("NodeIDName"),a.NodeIDPath=r.RegisterForm.getFieldValue("NodeIDPath"),a.DataFromType=parseInt(r.RegisterForm.getFieldValue("DataFromType")),a.DBIndex=parseInt(r.RegisterForm.getFieldValue("DBIndex")),a.DBOffset=r.RegisterForm.getFieldValue("DBOffset"),a.StringMaxLength=parseInt(r.RegisterForm.getFieldValue("StringLength")),a.IsHaveUnsigned=parseInt(r.RegisterForm.getFieldValue("IsHaveUnsigned")),a.auth=r.RegisterForm.getFieldValue("NodeIDAccessLevel"),a.type=r.RegisterForm.getFieldValue("NodeIDDataType"),a.unit=r.RegisterForm.getFieldValue("dataUnit"),a.conversionExpression=r.RegisterForm.getFieldValue("ConversionExpression"),a.alarm=parseInt(r.RegisterForm.getFieldValue("dataAlarm")),a.alarmLevel=parseInt(r.RegisterForm.getFieldValue("AlarmLevel")),a.AlarmMessage=r.RegisterForm.getFieldValue("AlarmMessage"),a.AlarmClearMessage=r.RegisterForm.getFieldValue("AlarmClearMessage"),a.record=parseInt(r.RegisterForm.getFieldValue("dataRecord")),a.RecordType=parseInt(r.RegisterForm.getFieldValue("dataRecordType")),a.recordInterval=parseInt(r.RegisterForm.getFieldValue("dataRecordTime")),a.RecordDataCharge=r.RegisterForm.getFieldValue("dataRecordChargeValue")?r.RegisterForm.getFieldValue("dataRecordChargeValue").toString():"",r.registerGroupDataSource=t),r.$message.success(r.$t("dataModel.saveSuccess")),r.RegisterVisible=!1}else r.$message.error(r.$t("dataModel.saveFailed"))}))}}))},NodeIdList:function(){this.messageShowLoad=!0;var e={muid:this.$route.params.uid};this.RegisterVisible=!1;var t=this;t.registerGroupDataSource=[],Object(i["e"])(e).then((function(e){t.messageShowLoad=!1,0==e.data.code&&(t.registerGroupDataSource=e.data.list)})).catch((function(){t.messageShowLoad=!1,t.$message.error(t.$t("loginPage.serverError"),3)}))},AddNodeId:function(){var e=this;this.RegisterForm.validateFields((function(t){if(!t){e.messageShowLoad=!0;var a={muid:e.$route.params.uid,modeltype:15,name:e.RegisterForm.getFieldValue("NodeIDName"),DataFromType:e.RegisterForm.getFieldValue("DataFromType"),DBIndex:parseInt(e.RegisterForm.getFieldValue("DBIndex")),DBOffset:e.RegisterForm.getFieldValue("DBOffset"),StringMaxLength:parseInt(e.RegisterForm.getFieldValue("StringLength")),IsHaveUnsigned:parseInt(e.RegisterForm.getFieldValue("IsHaveUnsigned")),auth:e.RegisterForm.getFieldValue("NodeIDAccessLevel"),type:e.RegisterForm.getFieldValue("NodeIDDataType"),unit:e.RegisterForm.getFieldValue("dataUnit"),conversionExpression:e.RegisterForm.getFieldValue("ConversionExpression"),alarm:parseInt(e.RegisterForm.getFieldValue("dataAlarm")),alarmLevel:parseInt(e.RegisterForm.getFieldValue("AlarmLevel")),AlarmMessage:e.RegisterForm.getFieldValue("AlarmMessage"),AlarmClearMessage:e.RegisterForm.getFieldValue("AlarmClearMessage"),record:parseInt(e.RegisterForm.getFieldValue("dataRecord")),RecordType:e.RegisterForm.getFieldValue("dataRecordType")?parseInt(e.RegisterForm.getFieldValue("dataRecordType")):0,recordInterval:e.RegisterForm.getFieldValue("dataRecordTime")?parseInt(e.RegisterForm.getFieldValue("dataRecordTime")):0,RecordDataCharge:e.RegisterForm.getFieldValue("dataRecordChargeValue")?e.RegisterForm.getFieldValue("dataRecordChargeValue").toString():"",Description:e.RegisterForm.getFieldValue("NodeIDDec")};e.RegisterVisible=!1;var r=e;Object(i["b"])(a).then((function(e){r.messageShowLoad=!1,2002==e.data.code?(r.NodeIdList(),r.$message.success(r.$t("dataModel.saveSuccess"))):2001==e.data.code?r.$message.error(r.$t("dataModel.modbusModel.RegisterExist")):r.$message.error(r.$t("dataModel.saveFailed"))})).catch((function(){r.messageShowLoad=!1,r.$message.error(r.$t("loginPage.serverError"),3)}))}}))},deleteRecord:function(e,t){var a=this,r={uuid:e,muid:t};Object(i["c"])(r).then((function(e){200==e.data.code?(a.$message.success(a.$t("dataModel.deleteSuccess")),a.NodeIdList()):a.$message.error(a.$t("dataModel.deleteFailed"))}))},onBlackCLK:function(){this.$router.push("/DeviceModel/SiemensS7Model")},alarmCharge:function(e){this.alarmStatus=parseInt(e);var t=this;this.$nextTick((function(){t.RegisterForm.setFieldsValue({AlarmLevel:"0"})}))},recordCharge:function(e){this.recordStatus=parseInt(e)}}},n=l,u=(a("d232"),a("2877")),c=Object(u["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports},3019:function(e,t,a){},d232:function(e,t,a){"use strict";a("3019")},ff68:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return D})),a.d(t,"d",(function(){return R})),a.d(t,"e",(function(){return h}));var r=a("1da1"),o=(a("96cf"),a("7424")),s=a("b775");function i(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELADD"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function l(e){return n.apply(this,arguments)}function n(){return n=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELDEL"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELEDIT"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELLIST"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELDATAADD"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function D(e){return M.apply(this,arguments)}function M(){return M=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELDATADEL"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function R(e){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELDATAEDIT"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function h(e){return F.apply(this,arguments)}function F(){return F=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["g"])(o["SimS7MODELDATALIST"],s["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}}}]);