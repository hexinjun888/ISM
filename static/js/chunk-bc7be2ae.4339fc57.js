(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc7be2ae"],{"08e3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[n("a-space",{staticClass:"operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addModel}},[e._v(e._s(e.$t("dataModel.RESTFulData.AddModel")))]),n("a-button",{attrs:{type:"default",icon:"sync",loading:e.refIconLoading},on:{click:function(t){return e.refresh()}}},[e._v(e._s(e.$t("dataModel.refModel")))])],1),n("a-spin",{staticStyle:{padding:"1px"},attrs:{spinning:e.messageShowLoad,tip:"Loading..."}},[n("a-table",{attrs:{rowKey:"key",pagination:e.pagination,columns:e.columns,"data-source":e.dataSource},scopedSlots:e._u([{key:"OPCUAConnectType",fn:function(t){return n("div",{},[1==t?n("span",[e._v(" "+e._s(e.$t("dataModel.opcuaModel.connectionTcp")))]):2==t?n("span",[e._v(" "+e._s(e.$t("dataModel.opcuaModel.connectionHttps")))]):e._e()])}},{key:"OPCUAAuthModes",fn:function(t){return n("div",{},[1==t?n("span",[e._v(" "+e._s(e.$t("dataModel.opcuaModel.AuthenticationAnonymous")))]):2==t?n("span",[e._v(" "+e._s(e.$t("dataModel.opcuaModel.AuthenticationUserPassword")))]):3==t?n("span",[e._v(" "+e._s(e.$t("dataModel.opcuaModel.AuthenticationCertificate")))]):e._e()])}},{key:"action",fn:function(t,r){return n("div",{},[n("router-link",{staticStyle:{color:"#13C2C2"},attrs:{to:""},nativeOn:{click:function(t){return e.GoToEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v(e._s(e.$t("dataModel.modelDetail")))],1),e._v(" | "),n("router-link",{staticStyle:{color:"darkorange"},attrs:{to:"/DeviceModel/RestFulData/"+r.key}},[n("a-icon",{attrs:{type:"unordered-list"}}),e._v(e._s(e.$t("dataModel.opcuaModel.NodeIDConfig")))],1),e._v(" | "),n("a-popconfirm",{attrs:{title:e.$t("dataModel.deleteConfirm")},on:{confirm:function(t){return e.deleteRecord(r.key)}}},[n("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),n("a-icon",{attrs:{type:"delete",theme:"twoTone","two-tone-color":"#eb2f96"}}),n("a",{staticStyle:{color:"#eb2f96"}},[e._v(e._s(e.$t("dataModel.delete")))])],1)],1)}}])},[e._l(e.columns,(function(t,r){return n("template",{slot:t.slotName},[n("span",{key:r},[e._v(e._s(e.$t(t.slotName)))])])}))],2)],1),n("a-modal",{attrs:{title:e.IsEdit?e.$t("dataModel.RESTFulData.EditModel"):e.$t("dataModel.RESTFulData.AddModel")},on:{ok:e.onAddSubmit},model:{value:e.AddVisible,callback:function(t){e.AddVisible=t},expression:"AddVisible"}},[n("a-form",{attrs:{form:e.RESTFulForm,"label-col":{span:6},"wrapper-col":{span:15}}},[n("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),n("a-form-item",{attrs:{label:e.$t("dataModel.RESTFulData.ModelName")}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:e.$t("dataModel.static.DataName"),whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: $t('dataModel.static.DataName'), whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete"}})],1),n("a-form-item",{attrs:{label:e.$t("device.deviceConfigurationModelName")}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["configurationModel",{rules:[{required:!1,message:e.$t("device.deviceConfigurationModelName")}]}],expression:"[\n                'configurationModel',\n                {\n                  rules: [{ required: false, message: $t('device.deviceConfigurationModelName') }],\n                },\n              ]"}],on:{select:e.GetDisplayPage}},e._l(e.configurationModel,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.uuid}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),n("a-form-item",{attrs:{label:e.$t("device.deviceConfigurationPageName")}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["configurationPageUUID",{rules:[{required:!1,message:e.$t("device.deviceConfigurationPageName")}]}],expression:"[\n                'configurationPageUUID',\n                {\n                  rules: [{ required: false, message: $t('device.deviceConfigurationPageName') }],\n                },\n              ]"}]},e._l(e.displayPageList,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("a-form-item",{attrs:{label:e.$t("dataModel.static.DataDec")}},[n("Mtextarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[{required:!0,message:e.$t("dataModel.static.DataDec")}]}],expression:"['description', { rules: [{ required: true, message: $t('dataModel.static.DataDec') }] }]"}],attrs:{rows:"4",showWordLimit:!0,maxLength:100,autoSize:!1},model:{value:e.textAreValue,callback:function(t){e.textAreValue=t},expression:"textAreValue"}})],1)],1)],1)],1)},a=[],o=(n("b0c0"),n("a4d3"),n("e01a"),n("4de4"),n("d3b7"),n("8448"),n("daf8")),i=(n("bb23"),n("456a")),u=n("1b23"),c={name:"RESTFulModel",i18n:n("89fe"),data:function(){return{pagination:{pageSize:15,showSizeChanger:!0},RESTFulForm:this.$form.createForm(this),AddVisible:!1,messageShowLoad:!1,advanced:!0,refIconLoading:!1,columns:[{width:"10%",slotName:"dataModel.modelTableIndex",scopedSlots:{customRender:"no",title:"dataModel.modelTableIndex"},dataIndex:"no"},{width:"20%",slotName:"dataModel.modelName",scopedSlots:{customRender:"modelName",title:"dataModel.modelName"},dataIndex:"modelName"},{slotName:"dataModel.modelDec",width:"40%",scopedSlots:{customRender:"modelDec",title:"dataModel.modelDec"},dataIndex:"modelDec"},{slotName:"dataModel.modelTableOpt",scopedSlots:{customRender:"action",title:"dataModel.modelTableOpt"}}],dataSource:[],configurationModel:[],displayPageList:[],IsEdit:!1,EditUuid:"",selectedRows:[],textAreValue:"",error:""}},authorize:{},components:{Mtextarea:o["a"]},mounted:function(){},activated:function(){},created:function(){this.dataSource=[],this.getConfigurationModel(),this.getModelList()},watch:{$route:function(){this.dataSource=[],this.getModelList()}},methods:{addModel:function(){this.AddVisible=!0,this.IsEdit=!1,this.EditUuid="",this.textAreValue="",this.RESTFulForm.setFieldsValue({name:"",description:"",configurationModel:"",configurationPageUUID:""})},GoToEdit:function(e){var t=this;t.AddVisible=!0,""!=e.configUid&&this.GetDisplayPage(e.configUid),setTimeout((function(){t.IsEdit=!0,t.EditUuid=e.key,t.textAreValue=e.modelDec,t.RESTFulForm.setFieldsValue({name:e.modelName,description:e.modelDec,configurationModel:e.configUid,configurationPageUUID:e.PageUUID})}),500)},GetDisplayPage:function(e){var t={muid:e},n=this;this.displayPageList=[],Object(i["j"])(t).then((function(e){if(0==e.data.code){var t=e.data.layer;if(t.length>0)for(var r=0;r<t.length;r++){var a={};a.label=t[r].PageName,a.value=t[r].PageId,a.pageType=t[r].PageType,a.pageModelUuid=t[r].modelId,n.displayPageList.push(a)}}}))},getConfigurationModel:function(){this.configurationModel=[];var e=this,t={type:1};Object(i["i"])(t).then((function(t){var n={};if(null!=t.data.list)for(var r=0;r<t.data.list.length;r++)n.name=t.data.list[r].name,n.description=t.data.list[r].description,n.uuid=t.data.list[r].displayUid,e.configurationModel.push(n),n={}}))},onAddSubmit:function(e){var t=this;e.preventDefault();var n=this;this.IsEdit?this.RESTFulForm.validateFields((function(e){if(!e){t.messageShowLoad=!0;var r={uuid:n.EditUuid,data:{name:t.RESTFulForm.getFieldValue("name"),dec:t.RESTFulForm.getFieldValue("description"),configUid:t.RESTFulForm.getFieldValue("configurationModel"),PageUUID:t.RESTFulForm.getFieldValue("configurationPageUUID"),type:5}};Object(u["g"])(r).then((function(e){n.messageShowLoad=!1,200==e.data.code?n.$message.success(n.$t("dataModel.editSuccess"),3):n.$message.error(n.$t("dataModel.editFailed"),3),n.getModelList(),n.AddVisible=!1})).catch((function(){n.messageShowLoad=!1,n.$message.error(n.$t("loginPage.serverError"),3)}))}})):this.RESTFulForm.validateFields((function(e){if(!e){t.logging=!0;var r={name:t.RESTFulForm.getFieldValue("name"),dec:t.RESTFulForm.getFieldValue("description"),configUid:t.RESTFulForm.getFieldValue("configurationModel"),PageUUID:t.RESTFulForm.getFieldValue("configurationPageUUID"),type:5};Object(u["a"])(r).then((function(e){n.messageShowLoad=!1,2002==e.data.code&&n.$message.success(n.$t("dataModel.modelAddSuccess"),3),n.AddVisible=!1,n.getModelList()})).catch((function(){n.messageShowLoad=!1,n.$message.error(n.$t("loginPage.serverError"),3)}))}}))},refresh:function(){this.refIconLoading=!0,this.getModelList()},getModelList:function(){this.dataSource=[];var e=this,t={type:5};this.messageShowLoad=!0,Object(u["h"])(t).then((function(t){var n={};if(e.refIconLoading=!1,e.messageShowLoad=!1,null!=t.data.list)for(var r=0;r<t.data.list.length;r++)n.key=t.data.list[r].uuid,n.no=r+1,n.modelName=t.data.list[r].name,n.modelDec=t.data.list[r].dec,n.configUid=t.data.list[r].configUid,n.PageUUID=t.data.list[r].PageUUID,e.dataSource.push(n),n={}})).catch((function(){e.messageShowLoad=!1,e.$message.error(e.$t("loginPage.serverError"),3)}))},deleteRecord:function(e){var t={uuid:e},n=this;Object(u["f"])(t).then((function(t){200==t.data.code?(n.dataSource=n.dataSource.filter((function(t){return t.key!==e})),n.selectedRows=n.selectedRows.filter((function(t){return t.key!==e}))):2004==t.data.code&&n.$message.error(n.$t("dataModel.modelBand"))}))}}},s=c,d=(n("2e35"),n("2877")),l=Object(d["a"])(s,r,a,!1,null,null,null);t["default"]=l.exports},"1b23":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return w}));var r=n("1da1"),a=(n("96cf"),n("7424")),o=n("b775");function i(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELADD"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELDEL"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELEDIT"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELLIST"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELDATAADD"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELDATADEL"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELDATAEDIT"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function w(e){return M.apply(this,arguments)}function M(){return M=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["RESTFulMODELDATALIST"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}},"2e35":function(e,t,n){"use strict";n("a0d6")},8448:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return w}));var r=n("1da1"),a=(n("96cf"),n("7424")),o=n("b775");function i(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELADD"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELDEL"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELEDIT"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELLIST"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELNODEIDADD"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELNODEIDDEL"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELNODEIDEDIT"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function w(e){return M.apply(this,arguments)}function M(){return M=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["OPCUAMODELNODEIDLIST"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}},"95c5":function(e,t,n){"use strict";n("aefa")},a0d6:function(e,t,n){},aefa:function(e,t,n){},bb23:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p}));var r=n("1da1"),a=(n("96cf"),n("7424")),o=n("b775");function i(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["ADDCUSTOMDATA"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["EDITCUSTOMDATA"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["DELCUSTOMDATA"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["g"])(a["GETCUSTOMDATA"],o["b"].POST,t));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},daf8:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"textarea-wrapper"},[n("a-textarea",e._b({staticClass:"m-textarea",on:{change:e.onChange},model:{value:e.$attrs.value,callback:function(t){e.$set(e.$attrs,"value",t)},expression:"$attrs.value"}},"a-textarea",e.$attrs,!1)),e.showWordLimit?n("span",{staticClass:"m-count"},[e._v(e._s(e.textLength)+"/"),e.$attrs.maxLength?[e._v(e._s(e.$attrs.maxLength))]:e._e()],2):e._e()],1)},a=[],o={props:{showWordLimit:{type:Boolean,default:!1}},model:{prop:"value",event:"change"},computed:{textLength:function(){return(this.$attrs.value||"").length}},methods:{onChange:function(e){this.$emit("change",e.target.value)}}},i=o,u=(n("95c5"),n("2877")),c=Object(u["a"])(i,r,a,!1,null,"b9c09c60",null);t["a"]=c.exports}}]);